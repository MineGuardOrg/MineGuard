[tool:pytest]
# Configuración de pytest para evitar conflictos de importación
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Directorio de trabajo
pythonpath = .

# Marcadores personalizados
markers =
    unit: marca pruebas unitarias
    integration: marca pruebas de integración
    auth: marca pruebas del módulo auth
    users: marca pruebas del módulo users
    area: marca pruebas del módulo area
    device: marca pruebas del módulo device
    role: marca pruebas del módulo role
    database: marca pruebas de base de datos
    slow: marca pruebas lentas

# Configuración de asyncio
asyncio_mode = auto

# Configuración básica optimizada para evitar conflictos
addopts = 
    --verbose
    --tb=short
    --import-mode=importlib
    --disable-warnings

# Configuración de filtros para suprimir warnings específicos
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::RuntimeWarning
    ignore::pytest.PytestUnknownMarkWarning
    ignore::pydantic.warnings.PydanticDeprecatedSince20
    ignore::pydantic.PydanticDeprecatedSince20