<ng-template #certificateDialog let-data>
  <div
    #certificateContent
    style="
      width: 100%;
      height: 550px;
      padding: 40px;
      text-align: center;
      font-family: 'Segoe UI', sans-serif;
      border: 8px solid #e0e0e0;
      background: white;
      position: relative;
    "
  >
    <!-- Logo TeachU -->
    <img
      src="/assets/images/logos/png/3-cropped.png"
      alt="TeachU Logo"
      style="height: 40px; position: absolute; top: 20px; left: 20px"
      crossorigin="anonymous"
    />

    <!-- Insignia o título del certificado -->
    <div style="margin-top: 50px">
      <img
        src="/assets/images/logos/png/4-cropped.png"
        alt="Insignia"
        style="height: 136px"
        crossorigin="anonymous"
      />
      <div style="margin-top: 8px; font-size: 14px; font-weight: 600">
        ASOCIADO
      </div>
    </div>

    <!-- Nombre del usuario -->
    <h2 style="margin: 30px 0 10px 0; font-size: 24px; color: #333">
      {{ data.personName }}
    </h2>

    <!-- Descripción -->
    <p style="font-size: 16px; margin: 0 20px 20px 20px; color: #444">
      Ha completado satisfactoriamente el curso
      <strong>{{ data.courseName }}</strong> ofrecido por TeachU.
    </p>

    <!-- Fecha de emisión -->
    <p style="font-size: 14px; color: #666">
      Fecha de emisión: {{ data.issueDate }}
    </p>

    <!-- Firma -->
    <div
      style="position: absolute; bottom: 40px; right: 60px; text-align: right"
    >
      <img
        src="/assets/images/courses/CertificateExampleFirma.jpg"
        alt="Firma"
        style="height: 40px; margin-bottom: 5px"
        crossorigin="anonymous"
      />
      <div style="font-size: 12px; font-weight: 600; color: #444">
        Director de TeachU
      </div>
    </div>
  </div>

  <mat-dialog-actions align="end">
    <!-- <button mat-button mat-dialog-close>Cerrar</button> -->
  </mat-dialog-actions>
</ng-template>

<div class="row justify-content-center">
  <div class="col-sm-6 col-lg-4" *ngFor="let cert of certificates">
    <mat-card class="cardWithShadow card2 position-relative card-hover">
      <img mat-card-image [src]="cert.imgSrc" alt="{{ cert.courseName }}" />

      <mat-card-content class="p-b-24 p-t-12">
        <mat-card-title>{{ cert.courseName }}</mat-card-title>

        <span class="text-muted f-s-14 f-w-600 d-block text-center">
          {{ cert.issueDate }}
        </span>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" (click)="openDialog(cert)">
          Ver / Descargar
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>

<div *ngIf="certificates.length === 0">
  <p>No hay certificados disponibles.</p>
</div>
