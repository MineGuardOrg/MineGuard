<h2 class="f-w-500 m-b-24" mat-dialog-title><strong>{{ action }} {{ 'ROLES.TITLE' | translate }}</strong></h2>

@if (action !== 'Delete') {
<mat-dialog-content style="max-width: 600px">
  <form #roleForm="ngForm">
    <div class="row">
      <div class="col-lg-12">
        <mat-label class="f-w-600 m-b-8 d-block">{{ 'ROLES.NAME' | translate }}</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <input
            type="text"
            matInput
            required
            id="name"
            name="name"
            [(ngModel)]="local_data.name"
            [placeholder]="'ROLES.ROLE_NAME' | translate"
          />
          <mat-icon matPrefix>
            <i-tabler name="briefcase" class="icon-20 d-flex"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>

      <div class="col-lg-12">
        <mat-label class="f-w-600 m-b-8 d-block">{{ 'ROLES.DESCRIPTION' | translate }}</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <textarea
            matInput
            required
            id="description"
            name="description"
            [(ngModel)]="local_data.description"
            [placeholder]="'ROLES.ROLE_DESCRIPTION' | translate"
            rows="4"
          ></textarea>
          <mat-icon matPrefix>
            <i-tabler name="file-text" class="icon-20 d-flex"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>

      <div class="col-lg-12" *ngIf="action === 'Update'">
        <mat-label class="f-w-600 m-b-8 d-block">{{ 'ROLES.STATUS' | translate }}</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <mat-select [(ngModel)]="local_data.is_active" name="is_active">
            <mat-option [value]="true">{{ 'ROLES.ACTIVE' | translate }}</mat-option>
            <mat-option [value]="false">{{ 'ROLES.INACTIVE' | translate }}</mat-option>
          </mat-select>
          <mat-icon matPrefix>
            <i-tabler name="toggle-left" class="icon-20 d-flex"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>
    </div>

    <div class="d-flex justify-content-end mt-3">
      <button
        mat-flat-button
        color="primary"
        (click)="doAction()"
        [disabled]="!roleForm.valid"
        class="m-r-8"
      >
        {{ action }}
      </button>
      <button mat-stroked-button (click)="closeDialog()" color="warn">
        {{ 'ROLES.CANCEL' | translate }}
      </button>
    </div>
  </form>
</mat-dialog-content>
} @else {
<div class="p-x-24">
  @if (local_data.is_active) {
    <p [innerHTML]="'ROLES.DEACTIVATE_CONFIRM' | translate:{ name: local_data.name }"></p>
    <p class="m-t-8 text-muted f-s-14">{{ 'ROLES.DEACTIVATE_INFO' | translate }}</p>
  } @else {
    <p [innerHTML]="'ROLES.REACTIVATE_CONFIRM' | translate:{ name: local_data.name }"></p>
    <p class="m-t-8 text-muted f-s-14">{{ 'ROLES.REACTIVATE_INFO' | translate }}</p>
  }
</div>
<div mat-dialog-actions class="p-x-24 p-b-24">
  @if (local_data.is_active) {
    <button mat-flat-button color="warn" (click)="doAction()">
      {{ 'ROLES.DEACTIVATE' | translate }}
    </button>
  } @else {
    <button mat-flat-button color="primary" (click)="doActionReactivate()">
      {{ 'ROLES.REACTIVATE' | translate }}
    </button>
  }
  <button mat-stroked-button (click)="closeDialog()" class="m-l-8">
    {{ 'ROLES.CANCEL' | translate }}
  </button>
</div>
}
