<h2 class="f-w-500 m-b-24" mat-dialog-title>
  <strong>{{ action }} Reading</strong>
</h2>

@if (action !== 'Delete') {
<mat-dialog-content style="max-width: 600px">
  <form #readingForm="ngForm">
    <div class="row">
      <div class="col-lg-12">
        <mat-label class="f-w-600 m-b-8 d-block">Value</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <input
            type="number"
            matInput
            required
            id="value"
            name="value"
            [(ngModel)]="local_data.value"
            placeholder="Reading Value"
            step="0.01"
          />
          <mat-icon matPrefix>
            <i-tabler name="chart-line" class="icon-20 d-flex"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>

      <div class="col-lg-6">
        <mat-label class="f-w-600 m-b-8 d-block">Sensor ID</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <input
            type="number"
            matInput
            required
            id="sensor_id"
            name="sensor_id"
            [(ngModel)]="local_data.sensor_id"
            placeholder="Sensor ID"
          />
          <mat-icon matPrefix>
            <i-tabler name="antenna-bars-5" class="icon-20 d-flex"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>

      <div class="col-lg-6">
        <mat-label class="f-w-600 m-b-8 d-block">User ID</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <input
            type="number"
            matInput
            required
            id="user_id"
            name="user_id"
            [(ngModel)]="local_data.user_id"
            placeholder="User ID"
          />
          <mat-icon matPrefix>
            <i-tabler name="user" class="icon-20 d-flex"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>
    </div>

    <div class="d-flex justify-content-end mt-3">
      <button
        mat-flat-button
        color="primary"
        (click)="doAction()"
        [disabled]="!readingForm.valid"
        class="m-r-8"
      >
        {{ action }}
      </button>
      <button mat-stroked-button (click)="closeDialog()" color="warn">
        Cancel
      </button>
    </div>
  </form>
</mat-dialog-content>
} @else {
<mat-dialog-content>
  <p class="m-t-16">
    Are you sure you want to delete the reading with ID {{ local_data.id }}?
  </p>
  <div class="d-flex justify-content-end m-t-24">
    <button mat-flat-button color="warn" (click)="doAction()" class="m-r-8">
      Delete
    </button>
    <button mat-stroked-button (click)="closeDialog()">Cancel</button>
  </div>
</mat-dialog-content>
}
